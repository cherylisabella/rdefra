<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retrieve Data from the UK AIR Database • rdefra</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Retrieve Data from the UK AIR Database">
<meta property="og:description" content='This packages allows to retrieve air pollution data from the Air
  Information Resource (UK-AIR, &lt;https://uk-air.defra.gov.uk/&gt;) of the
  Department for Environment, Food and Rural Affairs (DEFRA) in the United
  Kingdom. UK-AIR does not provide a public API for programmatic access to data,
  therefore this package scrapes the HTML pages to get relevant information.
  The package is described in Vitolo et al. (2016) "rdefra: Interact with the
  UK AIR Pollution Database from DEFRA" &lt;doi:10.21105/joss.00051&gt;.'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rdefra</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://www.doi.org/10.21105/joss.00051" class="external-link">JOSS paper</a>
    </li>
    <li>
      <a href="articles/index.html">Vignette</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/rdefra" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="rdefra-interact-with-the-uk-air-pollution-database-from-defra">rdefra: Interact with the UK AIR Pollution Database from DEFRA<a class="anchor" aria-label="anchor" href="#rdefra-interact-with-the-uk-air-pollution-database-from-defra"></a>
</h1></div>

<p><a href="https://github.com/ropensci/rdefra/actions" class="external-link"><img src="https://github.com/ropensci/rdefra/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a> <a href="https://codecov.io/gh/ropensci/rdefra?branch=master" class="external-link"><img src="https://codecov.io/gh/ropensci/rdefra/coverage.svg?branch=master" alt="codecov.io"></a></p>
<p><a href="https://cran.r-project.org/package=rdefra" class="external-link"><img src="http://www.r-pkg.org/badges/version/rdefra" alt="CRAN Status Badge"></a> <a href="https://cran.r-project.org/package=rdefra" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/rdefra" alt="CRAN Total Downloads"></a> <a href="https://cran.r-project.org/package=rdefra" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/rdefra" alt="CRAN Monthly Downloads"></a> <a href="https://github.com/ropensci/software-review/issues/68" class="external-link"><img src="https://badges.ropensci.org/68_status.svg"></a></p>
<p>The package <a href="https://cran.r-project.org/package=rdefra" class="external-link">rdefra</a> allows to retrieve air pollution data from the Air Information Resource <a href="https://uk-air.defra.gov.uk/" class="external-link">UK-AIR</a> of the Department for Environment, Food and Rural Affairs in the United Kingdom. UK-AIR does not provide a public API for programmatic access to data, therefore this package scrapes the HTML pages to get relevant information.</p>
<p>This package follows a logic similar to other packages such as <a href="https://cran.r-project.org/package=waterData" class="external-link">waterData</a> and <a href="https://cran.r-project.org/package=rnrfa" class="external-link">rnrfa</a>: sites are first identified through a catalogue, data are imported via the station identification number, then data are visualised and/or used in analyses. The metadata related to the monitoring stations are accessible through the function <code><a href="reference/ukair_catalogue.html">ukair_catalogue()</a></code>, missing stations’ coordinates can be obtained using the function <code><a href="reference/ukair_get_coordinates.html">ukair_get_coordinates()</a></code>, and time series data related to different pollutants can be obtained using the function <code><a href="reference/ukair_get_hourly_data.html">ukair_get_hourly_data()</a></code>.</p>
<p>DEFRA’s servers can handle multiple data requests, therefore concurrent calls can be sent simultaneously using the <a href="https://www.R-project.org/" class="external-link">parallel</a> package. Although the limit rate depends on the maximum number of concurrent calls, traffic and available infrustracture, data retrieval is very efficient. Multiple years of data for hundreds of sites can be downloaded in only few minutes.</p>
<p>For similar functionalities see also the <a href="https://cran.r-project.org/package=openair" class="external-link">openair</a> package, which relies on a local copy of the data on servers at King’s College (UK), and the <a href="https://CRAN.R-project.org/package=ropenaq" class="external-link">ropenaq</a> which provides UK-AIR latest measured levels (see <a href="https://uk-air.defra.gov.uk/latest/currentlevels" class="external-link uri">https://uk-air.defra.gov.uk/latest/currentlevels</a>) as well as data from other countries.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Get the released version from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rdefra"</span><span class="op">)</span></code></pre></div>
<p>Or the development version from GitHub using the package <code>remotes</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/rdefra"</span><span class="op">)</span></code></pre></div>
<p>Load the rdefra package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/rdefra/" class="external-link">"rdefra"</a></span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<p>The package logic assumes that users access the UK-AIR database in the fllowing steps:</p>
<ol style="list-style-type: decimal">
<li>Browse the catalogue of available stations and selects some stations of interest (see function <code><a href="reference/ukair_catalogue.html">ukair_catalogue()</a></code>).</li>
<li>Get missing coordinates (see function <code><a href="reference/ukair_get_coordinates.html">ukair_get_coordinates()</a></code>).</li>
<li>Retrieves data for the selected stations (see functions <code><a href="reference/ukair_get_site_id.html">ukair_get_site_id()</a></code> and <code><a href="reference/ukair_get_hourly_data.html">ukair_get_hourly_data()</a></code>).</li>
</ol>
<p>For an in-depth description of the various functionalities andexample applications, please refer to the package <a href="https://github.com/ropensci/rdefra/blob/master/vignettes/rdefra_vignette.Rmd" class="external-link">vignette</a>.</p>
</div>
<div class="section level2">
<h2 id="meta">Meta<a class="anchor" aria-label="anchor" href="#meta"></a>
</h2>
<ul>
<li>This package and functions herein are part of an experimental open-source project. They are provided as is, without any guarantee.</li>
<li>Please <a href="https://github.com/ropensci/rdefra/issues" class="external-link">report any issues or bugs</a>.</li>
<li>License: <a href="https://opensource.org/licenses/GPL-3.0" class="external-link">GPL-3</a>
</li>
<li>This package was reviewed by <a href="https://github.com/maelle" class="external-link">Maëlle Salmon</a> and <a href="https://github.com/haozhu233" class="external-link">Hao Zhu</a> for submission to ROpenSci (see review <a href="https://github.com/ropensci/software-review/issues/68" class="external-link">here</a>) and the Journal of Open Source Software (see review <a href="https://github.com/openjournals/joss-reviews/issues/51" class="external-link">here</a>).</li>
<li>Cite <code>rdefra</code>: <code>citation(package = "rdefra")</code>
</li>
</ul>
<p><br></p>
<p><a href="https://ropensci.org/" class="external-link"><img src="https://ropensci.org/public_images/github_footer.png" alt="ropensci_footer"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=rdefra" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/rdefra/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/rdefra/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rdefra</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Claudia Vitolo <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4252-1176" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://doi.org/10.5281/zenodo.593187" class="external-link"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.593187.svg" alt="DOI"></a></li>
<li><a href="https://doi.org/10.21105/joss.00051" class="external-link"><img src="https://joss.theoj.org/papers/10.21105/joss.00051/status.svg" alt="JOSS"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Claudia Vitolo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
